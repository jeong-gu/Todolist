{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>To Do List ë©”ì¸</title>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>
<body>
    <!-- ìƒë‹¨ ë°”: ì œëª© ë° ì‚¬ìš©ì ì •ë³´ í‘œì‹œ -->
    <div class="top-bar">
        <h2 class="title">To Do List</h2>
        <div class="user-info">
            ğŸ˜Š {{ request.user.username }}ë‹˜ /
            <a href="{% url 'logout' %}">ë¡œê·¸ì•„ì›ƒ</a>
        </div>
    </div>

    <!-- ì¹´ë“œí˜• ì»¨í…Œì´ë„ˆ (todo, end todo, not end todo) -->
    <div class="board-container">

        <!-- [í•  ì¼ ëª©ë¡] ì¹´ë“œ -->
        <div class="board todo">
            <h3>to do</h3>
            <!-- ìƒˆ í•  ì¼ ì¶”ê°€ í¼ -->
            <form action="{% url 'main' %}" method="POST">
                {% csrf_token %}
                <input type="text" name="content" placeholder="ìƒˆ í•  ì¼ ì¶”ê°€" required>
                <button type="submit">â•</button>
            </form>

            <!-- í•  ì¼ ëª©ë¡ -->
            <ul>
                {% for todo in todos %}
                    <li>
                        <span>{{ todo.content }}</span>
                        <span class="date">{{ todo.created_at|date:"Y.m.d (H:i)" }}</span>
                        <a href="{% url 'complete_todo' todo.id %}">âœ”ï¸</a>
                        <a href="{% url 'delete_todo' todo.id %}">âŒ</a>
                    </li>
                {% empty %}
                    <li>í•  ì¼ì´ ì—†ìŠµë‹ˆë‹¤.</li>
                {% endfor %}
            </ul>
        </div>

        <!-- [ì™„ë£Œí•œ ëª©ë¡] ì¹´ë“œ -->
        <div class="board end-todo">
            <h3>end to do</h3>
            <ul>
                {% for todo in completed_todos %}
                    <li>
                        <span>{{ todo.content }}</span>
                    </li>
                {% empty %}
                    <li>ì™„ë£Œí•œ í•  ì¼ì´ ì—†ìŠµë‹ˆë‹¤.</li>
                {% endfor %}
            </ul>
        </div>

        <!-- [ë¯¸ì™„ë£Œ ëª©ë¡] ì¹´ë“œ (ë¯¸ë¶„ë¥˜ í•­ëª© ë˜ëŠ” ì¶”ê°€ ê¸°ëŠ¥ í™•ì¥ìš©) -->
        <div class="board not-end-todo">
            <h3>not end to do</h3>
            <ul>
                <li>ì•„ì§ ë¶„ë¥˜ë˜ì§€ ì•Šì€ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</li>
            </ul>
        </div>

    </div>
</body>
</html>
